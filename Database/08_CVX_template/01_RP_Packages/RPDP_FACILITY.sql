
 -- START PKG_GEN_PKGS.sf_get_functions at:05/07/2019 11.49.35 AM


CREATE or REPLACE PACKAGE RPDP_FACILITY
IS

   FUNCTION DAYSSINCELASTINCIDENT(
      P_OBJECT_ID IN VARCHAR2,
      P_HSE_TYPE IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER;
   FUNCTION GETPARENTFACILITY(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE,
      P_CLASS_NAME IN VARCHAR2 DEFAULT NULL)
      RETURN VARCHAR2;
   FUNCTION CALCSUMPERSONNEL(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER;
      TYPE REC_GETFACILITY IS RECORD (
         OBJECT_ID VARCHAR2 (32) ,
         OBJECT_CODE VARCHAR2 (32) ,
         CLASS_NAME VARCHAR2 (24) ,
         START_DATE  DATE ,
         END_DATE  DATE ,
         PARENT_PROD_FCTY_ID VARCHAR2 (32) ,
         DESCRIPTION VARCHAR2 (240) ,
         MASTER_SYS_CODE VARCHAR2 (32) ,
         RECORD_STATUS VARCHAR2 (1) ,
         CREATED_BY VARCHAR2 (30) ,
         CREATED_DATE  DATE ,
         LAST_UPDATED_BY VARCHAR2 (30) ,
         LAST_UPDATED_DATE  DATE ,
         REV_NO NUMBER ,
         REV_TEXT VARCHAR2 (2000) ,
         APPROVAL_BY VARCHAR2 (30) ,
         APPROVAL_DATE  DATE ,
         APPROVAL_STATE VARCHAR2 (1) ,
         REC_ID VARCHAR2 (32)  );
   FUNCTION GETFACILITY(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN REC_GETFACILITY;
   FUNCTION CALCBEDSAVAILABLE(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER;
   FUNCTION GETEXPORTSTREAM(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE,
      P_PHASE IN VARCHAR2)
      RETURN VARCHAR2;

END RPDP_FACILITY;

/



CREATE or REPLACE PACKAGE BODY RPDP_FACILITY
IS

   FUNCTION DAYSSINCELASTINCIDENT(
      P_OBJECT_ID IN VARCHAR2,
      P_HSE_TYPE IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER
   IS
      ret_value   NUMBER ;
   BEGIN
      ret_value := ECDP_FACILITY.DAYSSINCELASTINCIDENT      (
         P_OBJECT_ID,
         P_HSE_TYPE,
         P_DAYTIME );
         RETURN ret_value;
   END DAYSSINCELASTINCIDENT;
   FUNCTION GETPARENTFACILITY(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE,
      P_CLASS_NAME IN VARCHAR2 DEFAULT NULL)
      RETURN VARCHAR2
   IS
      ret_value   VARCHAR2(4000) ;
   BEGIN
      ret_value := ECDP_FACILITY.GETPARENTFACILITY      (
         P_OBJECT_ID,
         P_DAYTIME,
         P_CLASS_NAME );
         RETURN ret_value;
   END GETPARENTFACILITY;
   FUNCTION CALCSUMPERSONNEL(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER
   IS
      ret_value   NUMBER ;
   BEGIN
      ret_value := ECDP_FACILITY.CALCSUMPERSONNEL      (
         P_OBJECT_ID,
         P_DAYTIME );
         RETURN ret_value;
   END CALCSUMPERSONNEL;
   FUNCTION GETFACILITY(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN REC_GETFACILITY
   IS
      ret_value    REC_GETFACILITY ;
   BEGIN
      ret_value := ECDP_FACILITY.GETFACILITY      (
         P_OBJECT_ID,
         P_DAYTIME );
         RETURN ret_value;
   END GETFACILITY;
   FUNCTION CALCBEDSAVAILABLE(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE)
      RETURN NUMBER
   IS
      ret_value   NUMBER ;
   BEGIN
      ret_value := ECDP_FACILITY.CALCBEDSAVAILABLE      (
         P_OBJECT_ID,
         P_DAYTIME );
         RETURN ret_value;
   END CALCBEDSAVAILABLE;
   FUNCTION GETEXPORTSTREAM(
      P_OBJECT_ID IN VARCHAR2,
      P_DAYTIME IN DATE,
      P_PHASE IN VARCHAR2)
      RETURN VARCHAR2
   IS
      ret_value   VARCHAR2(4000) ;
   BEGIN
      ret_value := ECDP_FACILITY.GETEXPORTSTREAM      (
         P_OBJECT_ID,
         P_DAYTIME,
         P_PHASE );
         RETURN ret_value;
   END GETEXPORTSTREAM;

END RPDP_FACILITY;

/
--GRANT EXECUTE ON ECKERNEL_WST.RPDP_FACILITY TO REPORT_ROLE_XXX;



 -- FINISH PKG_GEN_PKGS.sf_get_functions at:05/07/2019 11.49.37 AM


