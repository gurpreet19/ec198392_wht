UPDATE class_attribute_cnfg 
set db_sql_syntax ='nvl(STORAGE_LIFT_NOMINATION.DATE_3,START_LIFTING_DATE - UE_CT_LEADTIME.calc_ETA_LT(STORAGE_LIFT_NOMINATION.OBJECT_ID,STORAGE_LIFT_NOMINATION.PARCEL_NO,NULL,''STOR''))'
Where class_name = 'STORAGE_LIFT_NOMINATION'
and attribute_name = 'ETA';

UPDATE class_attribute_cnfg 
set db_sql_syntax =
'DECODE (ECDP_OBJECTS.GETOBJCODE (STORAGE_LIFT_NOMINATION.OBJECT_ID),''STW_COND'', NVL(STORAGE_LIFT_NOMINATION.DATE_8,TRUNC(nvl(STORAGE_LIFT_NOMINATION.DATE_3,START_LIFTING_DATE - UE_CT_LEADTIME.calc_ETA_LT(STORAGE_LIFT_NOMINATION.OBJECT_ID,STORAGE_LIFT_NOMINATION.PARCEL_NO,NULL,''STOR''))))+(1/(24*60)))'
Where class_name = 'STORAGE_LIFT_NOMINATION'
and attribute_name = 'LDR_START';


update CLASS_ATTRIBUTE_CNFG
set db_sql_syntax = 'EC_CARRIER_VERSION.TEXT_14(STORAGE_LIFT_NOMINATION.CARRIER_ID,STORAGE_LIFT_NOMINATION.START_LIFTING_DATE,''<='' )'
where class_name = 'STORAGE_LIFT_NOMINATION'
and attribute_name = 'CONTAINMENT_TYPE';

update CLASS_ATTRIBUTE_CNFG
set db_sql_syntax = 'EC_CARRIER_VERSION.VALUE_19(STORAGE_LIFT_NOMINATION.CARRIER_ID,STORAGE_LIFT_NOMINATION.START_LIFTING_DATE,''<='')'
where class_name = 'STORAGE_LIFT_NOMINATION'
and attribute_name = 'EST_ROUND_TRIP_TIME';

update CLASS_ATTRIBUTE_CNFG
set db_sql_syntax = 'DECODE (ECDP_OBJECTS.GETOBJCODE (STORAGE_LIFT_NOMINATION.OBJECT_ID),''STW_COND'', TRUNC(NVL(STORAGE_LIFT_NOMINATION.DATE_8, NVL(STORAGE_LIFT_NOMINATION.DATE_3,START_LIFTING_DATE - UE_CT_LEADTIME.calc_ETA_LT(STORAGE_LIFT_NOMINATION.OBJECT_ID,STORAGE_LIFT_NOMINATION.PARCEL_NO,NULL,''STOR'')))) + (EC_PROSTY_CODES.ALT_CODE(STORAGE_LIFT_NOMINATION.NOM_FIRM_DATE_RANGE, ecdp_ctrl_property.getSystemProperty(''/com/ec/tran/cargo/cargo_range_type'', STORAGE_LIFT_NOMINATION.NOM_FIRM_DATE))) + 1 - (1/(24*60)))'
where class_name = 'STORAGE_LIFT_NOMINATION'
and attribute_name = 'LDR_FINISH';


UPDATE viewlayer_dirty_log SET DIRTY_IND='Y' WHERE object_name in ('STORAGE_LIFT_NOMINATION');
commit;
EXECUTE EcDp_Viewlayer.BuildViewLayer('STORAGE_LIFT_NOMINATION') ;
EXECUTE EcDp_Viewlayer.BuildReportLayer('STORAGE_LIFT_NOMINATION');

commit;
 
