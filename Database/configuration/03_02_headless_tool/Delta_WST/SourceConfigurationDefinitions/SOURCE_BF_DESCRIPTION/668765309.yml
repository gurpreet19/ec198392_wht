!!com.ec.upgrade.ecconfig.model.ConfigurationItemGroup
fileName: '668765309'
keys:
  BF_DESCRIPTION_NO: SP.0017
  DATA_LEVEL: 0.0
  T: BF_DESCRIPTION
parentKeys: {}
properties:
  BF_DESCRIPTION_NO: SP.0017
  BUSINESS_FUNCTION_NO: (SELECT BUSINESS_FUNCTION_NO FROM BUSINESS_FUNCTION WHERE URL ='/com.ec.revn.sp/transaction_general' )
  DATA_LEVEL: 0.0
  DESCRIPTION: '<p style="font-style: normal;">    <strong>Transaction General screen</strong>    handles
    all the Transactions generated for a Document based on the Transaction Template
    defined for the Document Setup that was basis for the Document when    it was
    created in the Process Document General BF. By default the system will generate
    one Transaction for each Transaction Template. The user can from    this screen
    delete the Transactions not needed for this particular document.</p><p style="font-style:
    normal;">    <strong>Please note</strong>    that it is not allowed to delete
    all the Transactions. There must at least be one Transaction for a Document.</p><p
    style="font-style: normal;">    The screen is divided into following sections:<br>    <strong><em>-
    Filter Navigator:</em></strong><br>    The Filter Navigator lists all the contracts
    being valid at the date selected in the Filter Navigator. By clicking a contract
    object in the Filter    Navigator all the Documents already created will be listed
    in the Document List section.<br>        <strong><em>- Document List:</em></strong><br>    The
    Document List section lists all the documents created for the selected contract.
    By clicking a Document the Transaction List will be populated with the    Transactions
    for the selected Document. The first Document will be selected by default.<br>    <strong><em>-
    Transaction List:</em></strong><br>    This section lists the Transactions for
    the selected Document. By clicking a Transaction the Transaction details will
    be listed in the Transaction Details    section. For dependent documents are two
    extra columns enabled in this list. You are able to select the preceding transaction
    for the dependent document    and also select reversed transaction name for the
    selected transaction.<br>    <strong><em>- Transaction Details:</em></strong><br>    This
    section lists attributes for the selected Transaction. Documents having Document
    Level set to OPEN will have its Transaction attributes open for edit;    otherwise
    all the attributes will be locked for edit.</p><p style="font-style: normal;">    <span
    style="color: rgb(0, 0, 153);"><strong>Cargo-based:</strong></span><br>    - When
    setting the Loading Date the system will by default set the Point of Sale Date
    to Loading Date if the Transaction Date Method of the Price Concept    is set
    to <em>LOADING</em>.<br>    - When setting the Delivery Date the system will by
    default set the Point of Sale Date to Delivery Date if the Transaction Date Method
    of the Price Concept    is set to <em>DELIVERY</em>.</p><p style="font-style:
    normal;">    <span style="color: rgb(0, 0, 153);"><strong>Sales Order logic</strong></span><br>    Each
    Transaction will have a Sales Order attached. A Sales Order is normally defined
    for each cargo, which means that the same Sales Order can be assigned    to more
    than one Transaction. The popup for selecting a Sales Order is editable: The popup
    dropdown content will only list the Sales Orders not in use by    other Documents
    / Transactions, but it will include Sales Orders in use by other Transactions
    within the selected Document. This is the case if the    Restrict Use flag on
    the Sales Order object is set to Y. If it set to N, then Sales Orders used by
    other Documents will also be listed. In either case, the    user can enter a Sales
    Order number manually which may be in use by any other Document / Transaction
    to allow for Sales Order reuse.</p><p style="font-style: normal;">    <span style="color:
    rgb(0, 0, 153);"><strong>Period-based:</strong></span><br>    - When setting the
    Supply From Date the system will by default set the Point of Sale Date to Supply
    From Date if the Transaction Date Method of the Price    Concept is set to <em>SUPPLY_FROM</em>.<br>    -
    When setting the Supply To Date the system will by default set the Point of Sale
    Date to Supply To Date if the Transaction Date Method of the Price    Concept
    is set to <em>SUPPLY_TO</em>.</p><p style="font-style: normal;">    When the <strong>Point
    of Sale Date</strong> is set for the first time or changed the system will look
    up Contract Price Values for the QTY-type Line Items    of the Transaction, which
    corresponds to the Price Elements of the Price Concept of the Transaction. This
    logic will also check whether the Price Values    found are too old compared to
    the Price Review Period as defined for the Document Setup. If the prices are too
    old the system will not allow for saving the    Point of Sale Date.</p><p style="font-style:
    normal;">    <span style="color: rgb(0, 0, 153);"><strong>Supply Period Logic:</strong></span><br>    Period
    based sales quantities can be interfaced into EC Revenue and will be stored then
    in a Contract Quantities Interface Table (STIM_MTH_CONTRACT_VALUE).    When setting
    the <em>Supply From</em> date and <em>Supply To</em> date and these dates matches
    a complete month the system will look into the Contract    Quantities Interface
    Table to see if there are any sales quantity data available matching the Product,
    Price Concept, and Delivery Point of the current    Transaction. If one such is
    found, the sales quantity will be copied to the Transaction and the record in
    the Contract Quantities Interface Table will be    marked as used by this Transaction.
    If not found, the next step is to look into the VO monthly table to pick up VO
    quantities for the Stream Item defined    for the Transaction. If there are any
    quantities not used by any other Sales document, the quantities are copied to
    the Transaction and at the same time    the Calculation Method is set to SP for
    the Stream Item in VO. The quantity is also set to zero in VO. When the document
    is set to BOOKED the Transaction    quantity will be moved back into VO.</p><p
    style="font-style: normal;">    <span style="color: rgb(0, 0, 153);"><strong>Cargo
    Name Logic / Parcel Name / Quantity Type Logic:</strong></span><br>    Cargo lifting
    data can be interfaced into EC Revenue and will then be stored in a Cargo Interface
    Table. The popups for Cargo, Parcel, and Quantity Type    are editable in such
    a way that the user can select a Cargo name / Parcel name / Quantity Type from
    the popups, or enter them manually.<br>    <strong><em>- The Cargo popup dropdown</em></strong>    will
    list the cargoes in the Cargo Interface Table (STIM_MTH_CARGO_VALUE) which matches
    the Contract and Product for the Transaction and that are not taken    by any
    other Transaction.<br>    <strong><em>- The Parcel popup dropdown</em></strong>    will
    list the Parcel numbers in the Cargo Interface Table (STIM_MTH_CARGO_VALUE) for
    the selected Cargo number if found.<br>    <strong><em>- The Quantity Type popup
    dropdown</em></strong>    will list the Quantity Types found in the Cargo Interface
    table for the selected combination of Cargo number and Parcel number.<br>    The
    Quantity Types will be defined in EC Transport ad interfaced into EC Revenue together
    with the cargo. Examples of values are: NOMINATED, LOADED,    EXP_UNLOADED, UNLOADED.</p><p
    style="font-style: normal;">    After selecting/entering the Cargo number / Parcel
    number / Quantity Type and clicking the Save button, the system will load Cargo
    data from the Cargo    Interface Table into the Transaction. The user can also
    enter all the Cargo data manually if there is no Cargo data in the Cargo Interface
    Table. For more    details on how the cargo interface works, please see BL.0001
    Inbound Interface Cargo Data.doc.</p><p style="font-style: normal;">    <span
    style="color: rgb(0, 0, 153);"><strong>Logic for reversal in dependent documents:</strong></span><br>    Reversal
    transactions will be made for dependent documents. These transactions are exact
    reversal of the one in the preceding document. There is logic to    choose only
    the transactions present on the dependent documents for reversal. Reversal transactions
    will have a name prefix of: "Reversal of: ". In order    to delete a reversal
    transaction the link to the "source" transaction must be deleted first. This is
    done by deleting the name in the reversed transaction    column. After the link
    to the "source" transaction is deleted the reversal transaction can be deleted.
    Matching of transactions will be done on the    following columns in the written
    order: PRICE_CONCEPT, PRODUCT, TRANSACTION_SCOPE and DISTRIBUTION_CODE.</p><p
    style="font-style: normal;">    <span style="color: rgb(0, 0, 153);"><strong>Differences
    for Liquids vs Non-Liquids:</strong></span><br>- The transaction details API,
    RVP, BS and W, and Salt are only visible for transactions with Liquid type of
    product attached.<br>- The transaction details GCV and Wobbe are only visible
    for transactions with Non-Liquid type of product attached.</p><p>    <span style="font-style:
    normal; color: rgb(0, 0, 153);"><strong>Origin Country and Destination Country:</strong></span><br>    The
    origin country and destination country on a transaction come from transaction
    template. They can be changed either manually or by triggered by updating    some
    transaction attributes.<br><span style="font-style: italic;">    The trigger logic
    is:</span><br>- Cargo-based:    When Loading Port is changed, Origin Country is
    updated to the country of the new Loading Port. When Discharge Port is changed,
    Destination Country is    updated to the country of the new Discharge Port.<br>    <em
    style="font-style: normal;">- Period-based:</em>    When Delivery Point is changed,
    both Origin Country and Destination Country is updated the country of the new
    Delivery Point.</p><p style="font-style: normal;">    This trigger logic can be
    overwritten using user exits ue_cont_transaction.GetOriginCountryForTrans and
    ue_cont_transaction.GetDestinationCountryForTrans.</p><p style="font-style: normal;">    <strong>Validation
    logic when setting the Document Level to VALID1 Cargo-based Transactions:</strong><br>    -
    Point of Sale Date must be set.<br>    - Cargo must be set.<br>    - Parcel must
    be set<br>    - Vessel must be set<br>    - Quantity Type must be set<br>    -
    Consignor must be set<br>    - Consignee must be set<br>    - Sales Order must
    be set.<br>    - Loading Dates must be set if the Transaction Date Method of the
    Price Concept is set to LOADING.<br>    - Loading Point must be set if the Transaction
    Date Method of the Price Concept is set to LOADING.<br>    - Delivery Dates must
    be set if the Transaction Date Method of the Price Concept is set to DELIVERY.<br>    -
    Delivery Point must be set if the Transaction Date Method of the Price Concept
    is set to DELIVERY.<br>    - Pricing to Booking - exchange rate.<br>    - Pricing
    to Other - exchange rate if the Other Currency is set.</p><p style="font-style:
    normal;">    <strong>Validation logic when setting the Document Level to VALID1
    Period-based Transactions:</strong><br>    - Point of Sale Date must be set.<br>    -
    Sales Order must be set.<br>    - Supply From Date must be set<br>    - Supply
    To Date must be set<br>    - Entry Point must be set<br>    - Delivery Point must
    be set<br>    - Pricing to Booking exchange rate<br>    - Pricing to Other exchange
    rate if the Other Currency is set.</p> <p style="font-style: normal;"><strong>Validation
    logic when the payment term is based on a calculation rule running by the calculation
    engine: </strong><br>    Please refer to SP.0016 - Document General screen</p>'
related: {}
