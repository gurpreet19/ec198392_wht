!!com.ec.upgrade.ecconfig.model.ConfigurationItemGroup
fileName: '-506625469'
keys:
  BF_DESCRIPTION_NO: CO.1062
  DATA_LEVEL: 0.0
  T: BF_DESCRIPTION
parentKeys: {}
properties:
  BF_DESCRIPTION_NO: CO.1062
  BUSINESS_FUNCTION_NO: (SELECT BUSINESS_FUNCTION_NO FROM BUSINESS_FUNCTION WHERE URL ='/com.ec.frmw.bs.calc.screens/maintain_calculation/CALC_SCOPE/PUBLIC_SUB' )
  DATA_LEVEL: 0.0
  DESCRIPTION: <h2>Library calculations</h2><p>The Maintain Library Calculation screen is used to define library calculations that can be called from other calculations. There are several typical use cases for library calculations:</p><ul><li>Avoiding multiple instances of commonly used calculations.</li><ul><li>For example, some calculations apply fairly complex rounding rules at various points in the calculation.</li><li>Such rounding rules can then be extracted into a library calculation and reused.</li><li>This reduces maintenance efforts.</li></ul><li>Using the same calculation steps for different periods.</li><ul><li>For example, many monthly allocations include running a large part of the daily allocation for each day in the month.</li><li>The shared part of the daily allocation can then be extracted into a library calculation.</li><li>The daily allocation «main calculation» is then very simple and mainly consists of a call to the library calculation which implements most of the actual daily allocation logic.</li></ul><li>Standardizing calculations across operations.</li><ul><li>This could e.g. be relevant in a template approach, where parts of the calculation is predefined and other parts are operation specific.</li><li>The standardized parts could be extracted into library calculations.</li></ul><li>Maintaining standardized calculations independent of the main calculation.</li><ul><li>For example regulatory reporting calculations can be put into a library that is maintained as a separate package.</li></ul></ul><h2>Relationship to normal calculations and CO.1040 – Maintain Calculation</h2><p>The Maintain Library Calculation Screen is very similar to the normal calculation editor screen <em>CO.1040 – Maintain Calculation</em>. Please see the documentation for that screen for more information on different calculation types, EC calculation concepts etc.</p><p>In addition to the functionality in <em>CO.1040 – Maintain Calculation</em>, the Maintain Library Calculation screen also has:</p><ul><li>An additional navigator field "Calculation Library" to enable navigation to library calculations.</li><li>Any sets or variables defined as "expected inherited sets/variables" in <em>CO.1061 – Create Library Calculation</em> will show up as inherited sets/variables in the relevant lists and popups.</li></ul><h2>Library calculation main principles</h2><p>One or more calculation steps in a calculation can be extracted to a separate library calculation, which is maintained independent from the main calculation.</p><p>The main calculation can «call» the library calculation by using a special calculation step type, as shown in the figure below:<br></p><p><img src="/onlinehelp/img?type=description&amp;bfDescNo=CO.1062&amp;imgNo=1&amp;dataLevel=0&amp;pfdrid_c=true" class="ecImg"><br></p><p>Library calculations can be also be reused:</p><ul><li>A library calculation can be called multiple times from the same calculation.</li><li>A library calculation can be called from different calculations (in the same calculation context).</li></ul><p>A library calculation shares some data structures with the calling calculation:</p><ul><li>All global variables are shared.</li><li>Sets and iterators can be passed from the calling calculation to the library calculation.</li><li>Local variables can be shared between the calculations, and be used to pass data between them.</li></ul><p>Library calculations are organized in calculation libraries, where each library can include any number of library calculations. This is only for organizational purposes, and a calculation can call library calculations from different libraries.</p><p>It is also possible for a library calculation to call other library calculations, both from the same and other libraries. Note, however, that a library calculation is not allowed to call itself, neither directly nor indirectly.<br></p>
related: {}
