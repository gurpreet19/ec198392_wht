DECLARE 
HASENTRY NUMBER; 
BEGIN

	SELECT COUNT(*) INTO HASENTRY FROM USER_TRIGGERS 
		WHERE TRIGGER_NAME = 'IU_REPORT_RUNABLE'; 
		IF HASENTRY > 0 THEN 
		EXECUTE IMMEDIATE 'ALTER TRIGGER IU_REPORT_RUNABLE DISABLE';
		END IF;

	UPDATE REPORT_RUNABLE rr 
	SET FUNCTIONAL_AREA_ID = (SELECT FUNCTIONAL_AREA_ID from REPORT_DEFINITION_GROUP where REP_GROUP_CODE = rr.REP_GROUP_CODE),
		LAST_UPDATED_BY = LAST_UPDATED_BY 
	WHERE FUNCTIONAL_AREA_ID IS NULL;
		
	SELECT COUNT(*) INTO HASENTRY FROM USER_TRIGGERS 
		WHERE TRIGGER_NAME = 'IU_REPORT_RUNABLE'; 
		IF HASENTRY > 0 THEN 
		EXECUTE IMMEDIATE 'ALTER TRIGGER IU_REPORT_RUNABLE ENABLE';
		END IF;
EXCEPTION
   WHEN OTHERS 
     THEN

       IF HASENTRY > 0 THEN 
           EXECUTE IMMEDIATE 'ALTER TRIGGER IU_REPORT_RUNABLE ENABLE';
       END IF;
       raise_application_error(-20000, 'ERROR: Some Other fatal error occured :- '||SQLERRM);

END;
--~^UTDELIM^~--	