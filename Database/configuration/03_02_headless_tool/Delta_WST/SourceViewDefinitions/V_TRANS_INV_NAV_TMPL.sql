CREATE OR REPLACE FORCE EDITIONABLE VIEW "V_TRANS_INV_NAV_TMPL" ("CONTRACT_ID", "INVENTORY_ID", "DAYTIME", "END_DATE", "CODE", "SORT_ORDER", "RECORD_STATUS", "CREATED_BY", "CREATED_DATE", "LAST_UPDATED_BY", "LAST_UPDATED_DATE", "REV_NO", "REV_TEXT", "APPROVAL_BY", "APPROVAL_DATE", "APPROVAL_STATE", "REC_ID") AS 
  SELECT
    ps.OBJECT_ID CONTRACT_ID,
    ps.INVENTORY_ID,
    ts.DAYTIME,
    ts.END_DATE,
    ts.CODE,
    ts.SORT_ORDER,
    NULL RECORD_STATUS,
    NULL CREATED_BY,
    NULL CREATED_DATE,
    NULL LAST_UPDATED_BY,
    NULL LAST_UPDATED_DATE,
    NULL REV_NO,
    NULL REV_TEXT,
    NULL APPROVAL_BY,
    NULL APPROVAL_DATE,
    NULL APPROVAL_STATE,
    NULL REC_ID
FROM TRANS_INV_TMPL_SET_SETUP ts
JOIN TRANS_INV_PROD_STREAM ps
    ON ps.TEMPLATE_SET_ID = ts.OBJECT_ID
    AND ps.DAYTIME >= ts.DAYTIME
    AND nvl(ps.END_DATE,nvl(ts.END_DATE, ts.DAYTIME)) < nvl(ts.END_DATE, ts.DAYTIME) + 1