CREATE OR REPLACE PACKAGE EcDp_DATASET_FLOW IS


------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION Submit(
                        p_report_run                        NUMBER,
                        p_user_id                           VARCHAR2
                        )
RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION Delete(
                        p_type                              VARCHAR2,
                        p_doc_id                            VARCHAR2,
                        p_object_id                         VARCHAR2,
                        p_clean                             VARCHAR2 DEFAULT 'Y'
                        )
RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

PROCEDURE Delete(
                        p_type                              VARCHAR2,
                        p_doc_id                            VARCHAR2,
                        p_object_id                         VARCHAR2,
                        p_clean                             VARCHAR2 DEFAULT 'Y'
                        );
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
PROCEDURE SetReportNo(ds_report_id NUMBER);
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------


PROCEDURE InsertIfacToDoc(p_calc_run_no            NUMBER,
                          p_contract_account_class VARCHAR2,
                          p_contract_account       VARCHAR2,
                          p_reference              VARCHAR2,
                          p_daytime                VARCHAR2);

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
FUNCTION GetConnectionId(
                        p_TO_TYPE                           VARCHAR2,
                        p_TO_REFERENCE_ID                   VARCHAR2,
                        p_FROM_TYPE                         VARCHAR2,
                        p_FROM_REFERENCE_ID                 VARCHAR2,
                        p_insert                            BOOLEAN DEFAULT FALSE
                        )
RETURN NUMBER;

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
PROCEDURE InsToDsFlowDoc(
                        p_type                              VARCHAR2,
                        p_process_date                      DATE,
                        p_object                            VARCHAR2,
                        p_reference_id                      VARCHAR2,
                        p_STATUS                            VARCHAR2,
                        p_MAX_IND                           VARCHAR2,
                        p_DATASET                           VARCHAR2,
                        p_accrual_ind                       VARCHAR2,
                        p_screen_doc_type                   VARCHAR2 default null
                        );

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
PROCEDURE InsJMDataToDS(p_document_key                      VARCHAR2
                        );

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
PROCEDURE InsJEDataToDS(p_document_key                      VARCHAR2
                        );

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
FUNCTION GetLastJMDoc(  p_contract_id                       VARCHAR2,
                        p_dataset                           VARCHAR2,
                        p_period                            DATE
                        )
RETURN VARCHAR2;

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
FUNCTION UpdateDocFlowStatus(
                        p_type                              VARCHAR2,
                        p_reference_id                      VARCHAR2,
                        p_status                            VARCHAR2,
                        p_user                              VARCHAR2,
                        p_no_table_update                   BOOLEAN DEFAULT FALSE,
                        p_old_status                        VARCHAR2 DEFAULT NULL,
                        p_allow_unapprove                   BOOLEAN DEFAULT FALSE
                        )
RETURN VARCHAR2;

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------
FUNCTION GetStatusMessage(
                        p_DocumentKey                       VARCHAR2,
                        p_status                            VARCHAR2,
                        p_type                              VARCHAR2
                        )
RETURN VARCHAR2;

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

PROCEDURE UpdateDocFlowStatus(
                        p_type                              VARCHAR2,
                        p_reference_id                      VARCHAR2,
                        p_status                            VARCHAR2,
                        p_user                              VARCHAR2,
                        p_no_table_update                   BOOLEAN DEFAULT FALSE,
                        p_old_status                        VARCHAR2 DEFAULT NULL,
                        p_allow_unapprove                   BOOLEAN DEFAULT FALSE
                        ) ;

------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------


PROCEDURE SetStatusMessage(p_type VARCHAR2
                          ,p_document_type VARCHAR2
                          ,p_document_key VARCHAR2
                          ,p_msg VARCHAR2
                          ,p_system_ind VARCHAR2
                          ,p_user_id VARCHAR2);


PROCEDURE SetReportParams(p_ds_report_id NUMBER,p_report_no NUMBER) ;


------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------


FUNCTION getMappingText(p_daytime date,p_ref_id VARCHAR2, p_mapping_type VARCHAR2, p_mapping_id VARCHAR2) RETURN VARCHAR2;


------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION GetMappingParameters(p_daytime DATE,
                              p_ref_id VARCHAR2, p_mapping_type VARCHAR2,p_class_name VARCHAR2, p_parameters VARCHAR2) RETURN
  VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION getMappingScreen( p_mapping_type VARCHAR2, p_direction VARCHAR2,
          p_type varchar2 default null, p_other_type varchar2 default null,
          p_other_ref_id VARCHAR2 DEFAULT NULL) RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION getObjectText(p_ref_id VARCHAR2, p_mapping_type VARCHAR2, p_object_id VARCHAR2, p_daytime DATE) RETURN
  VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION getFilterLabel( p_mapping_type VARCHAR2, p_direction VARCHAR2, p_type varchar2 default null, p_Filter_number NUMBER) RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION getFilterColumn( p_mapping_type VARCHAR2, p_direction VARCHAR2, p_type varchar2 default null, p_Filter_number NUMBER) RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------

FUNCTION GetReportVersion(p_daytime date, p_runable number)  RETURN VARCHAR2;
------------------------+-----------------------------------+------------------------------------+---------------------------
------------------------+-----------------------------------+------------------------------------+---------------------------


FUNCTION GetReferenceDesc(
                        p_DocumentKey                       VARCHAR2,
                        p_type                              VARCHAR2
                        )
RETURN VARCHAR2;
-------------------------------------------------------------------------------------------------------------------------------
FUNCTION UpdateReport(p_report_no VARCHAR2)
RETURN VARCHAR2;
-------------------------------------------------------------------------------------------------------------------------------
FUNCTION CheckReportGen(p_report_no VARCHAR2)

RETURN VARCHAR2;
-------------------------------------------------------------------------------------------------------------------------------
END EcDp_DATASET_FLOW;