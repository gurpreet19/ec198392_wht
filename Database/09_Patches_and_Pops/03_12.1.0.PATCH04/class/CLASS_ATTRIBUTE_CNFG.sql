SET DEFINE OFF

MERGE INTO CLASS_ATTRIBUTE_CNFG o USING 
(
SELECT
 null APP_SPACE_CNTX, null ATTRIBUTE_NAME, null CLASS_NAME, null DATA_TYPE, null DB_JOIN_TABLE, null DB_JOIN_WHERE, null DB_MAPPING_TYPE, null DB_SQL_SYNTAX, null IS_KEY, null REFERENCE_TYPE, null REFERENCE_KEY, null REFERENCE_VALUE FROM DUAL WHERE 1=0
UNION 
 SELECT 'EC_TRAN', 'AVAILABLE_IND', 'PORT_RES_USAGE_POOL', 'STRING', null, null, 'FUNCTION', 'ue_port_resource.getAvailableResource(PORT_RESOURCE_USAGE.OBJECT_ID,CARGO_NO,PORT_RESOURCE_USAGE.DAYTIME,PORT_RESOURCE_USAGE.END_DATE)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'LAST_CARGO_NAME', 'PORT_RES_USAGE_POOL', 'STRING', null, null, 'FUNCTION', 'ue_port_resource.getLastUsageCargo(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME, CARGO_NO)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'LAST_DAYTIME', 'PORT_RES_USAGE_POOL', 'DATE', null, null, 'FUNCTION', 'ue_port_resource.getLastUsageStartTime(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME, CARGO_NO)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'LAST_END_TIME', 'PORT_RES_USAGE_POOL', 'DATE', null, null, 'FUNCTION', 'ue_port_resource.getLastUsageEndTime(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME, CARGO_NO)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'NEXT_CARGO_NAME', 'PORT_RES_USAGE_POOL', 'STRING', null, null, 'FUNCTION', 'ue_port_resource.getNextUsageCargo(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME,PORT_RESOURCE_USAGE.END_DATE,CARGO_NO)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'NEXT_DAYTIME', 'PORT_RES_USAGE_POOL', 'DATE', null, null, 'FUNCTION', 'ue_port_resource.getNextUsageStartTime(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME,PORT_RESOURCE_USAGE.END_DATE,CARGO_NO)', null, null, null, null FROM DUAL 
UNION 
 SELECT 'EC_TRAN', 'NEXT_END_TIME', 'PORT_RES_USAGE_POOL', 'DATE', null, null, 'FUNCTION', 'ue_port_resource.getNextUsageEndTime(PORT_RESOURCE_USAGE.OBJECT_ID,PORT_RESOURCE_USAGE.DAYTIME,PORT_RESOURCE_USAGE.END_DATE,CARGO_NO)', null, null, null, null FROM DUAL
 ) n
ON (o.ATTRIBUTE_NAME = n.ATTRIBUTE_NAME
 AND o.CLASS_NAME = n.CLASS_NAME)
WHEN MATCHED THEN UPDATE SET
o.APP_SPACE_CNTX = n.APP_SPACE_CNTX
,o.DATA_TYPE = n.DATA_TYPE
,o.DB_JOIN_TABLE = n.DB_JOIN_TABLE
,o.DB_JOIN_WHERE = n.DB_JOIN_WHERE
,o.DB_MAPPING_TYPE = n.DB_MAPPING_TYPE
,o.DB_SQL_SYNTAX = n.DB_SQL_SYNTAX
,o.IS_KEY = n.IS_KEY
,o.REFERENCE_TYPE = n.REFERENCE_TYPE
,o.REFERENCE_KEY = n.REFERENCE_KEY
,o.REFERENCE_VALUE = n.REFERENCE_VALUE
,o.LAST_UPDATED_BY = 'UPGD-12.1.0.PATCH04'
,o.REV_NO = o.REV_NO+1
WHEN NOT MATCHED THEN INSERT
(APP_SPACE_CNTX,ATTRIBUTE_NAME,CLASS_NAME,DATA_TYPE,DB_JOIN_TABLE,DB_JOIN_WHERE,DB_MAPPING_TYPE,DB_SQL_SYNTAX,IS_KEY,REFERENCE_TYPE, REFERENCE_KEY, REFERENCE_VALUE,CREATED_BY)
VALUES( n.APP_SPACE_CNTX, n.ATTRIBUTE_NAME, n.CLASS_NAME, n.DATA_TYPE, n.DB_JOIN_TABLE, n.DB_JOIN_WHERE, n.DB_MAPPING_TYPE, n.DB_SQL_SYNTAX, n.IS_KEY, n.REFERENCE_TYPE, n.REFERENCE_KEY, n.REFERENCE_VALUE,'UPGD-12.1.0.PATCH04');


SET DEFINE ON

