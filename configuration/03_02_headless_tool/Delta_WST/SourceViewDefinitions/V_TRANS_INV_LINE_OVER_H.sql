CREATE OR REPLACE FORCE EDITIONABLE VIEW "V_TRANS_INV_LINE_OVER_H" ("JN_OPERATION", "JN_ORACLE_USER", "JN_DATETIME", "JN_NOTES", "JN_APPLN", "JN_SESSION", "OBJECT_ID", "DAYTIME", "END_DATE", "EXEC_ORDER", "VAL_EXEC_ORDER", "PRODUCT_SOURCE_METHOD", "CONTRACT_ID", "TRANS_DEF_DIMENSION", "TAG", "DIMENSION_OVER_MONTH_IND", "ROUND_TRANSACTION_IND", "ROUND_VALUE_IND", "CURRENT_PERIOD_ONLY_IND", "PRORATE_LINE", "XFER_IN_TRANS_ID", "XFER_IN_LINE", "DESCRIPTION", "SRC_PROD_STREAM_ID", "DISABLED_IND", "RECORD_STATUS", "CREATED_BY", "CREATED_DATE", "LAST_UPDATED_BY", "LAST_UPDATED_DATE", "REV_NO", "REV_TEXT", "APPROVAL_BY", "APPROVAL_DATE", "APPROVAL_STATE", "REC_ID", "POST_PROCESS_IND") AS 
  (
----------------------------------------------------------------------------------------------------
-- File name: V_TRANS_INV_LINE_OVER_H.sql
-- View name: V_TRANS_INV_LINE_OVER_H
--
-- $Revision: 1.0 $
--
-- Purpose  : combine both Historical and Current version of records.
--
-- Modification history:
--9
-- Date       Whom       Change description:
-- ---------- ----       --------------------------------------------------------------------------------
-- 14.09.2016 lewisbra
----------------------------------------------------------------------------------------------------
  SELECT "JN_OPERATION","JN_ORACLE_USER","JN_DATETIME","JN_NOTES","JN_APPLN","JN_SESSION","OBJECT_ID","DAYTIME","END_DATE","EXEC_ORDER","VAL_EXEC_ORDER","PRODUCT_SOURCE_METHOD","CONTRACT_ID","TRANS_DEF_DIMENSION","TAG","DIMENSION_OVER_MONTH_IND","ROUND_TRANSACTION_IND","ROUND_VALUE_IND","CURRENT_PERIOD_ONLY_IND","PRORATE_LINE","XFER_IN_TRANS_ID","XFER_IN_LINE","DESCRIPTION","SRC_PROD_STREAM_ID","DISABLED_IND","RECORD_STATUS","CREATED_BY","CREATED_DATE","LAST_UPDATED_BY","LAST_UPDATED_DATE","REV_NO","REV_TEXT","APPROVAL_BY","APPROVAL_DATE","APPROVAL_STATE","REC_ID","POST_PROCESS_IND" FROM (
		SELECT
			'CURRENT' jn_operation
			,NVL(last_updated_by,created_by) jn_oracle_user
			,sysdate jn_datetime
			,'CURRENT' jn_notes
			,NULL jn_appln
			,NULL jn_session
			,OBJECT_ID,
				DAYTIME,
				END_DATE,
				EXEC_ORDER,
				VAL_EXEC_ORDER,
				PRODUCT_SOURCE_METHOD,
				CONTRACT_ID,
				TRANS_DEF_DIMENSION,
				TAG,
				DIMENSION_OVER_MONTH_IND,
				ROUND_TRANSACTION_IND,
				ROUND_VALUE_IND,
				CURRENT_PERIOD_ONLY_IND,
				PRORATE_LINE,
				XFER_IN_TRANS_ID,
				XFER_IN_LINE,
				DESCRIPTION,
				SRC_PROD_STREAM_ID,
				DISABLED_IND,
				RECORD_STATUS,
				CREATED_BY,
				CREATED_DATE,
				LAST_UPDATED_BY,
				LAST_UPDATED_DATE,
				REV_NO,
				REV_TEXT,
				APPROVAL_BY,
				APPROVAL_DATE,
				APPROVAL_STATE,
				REC_ID,
				POST_PROCESS_IND
		from
			trans_inv_line_override
		UNION
		SELECT  JN_OPERATION,
				JN_ORACLE_USER,
				ecdp_date_time.getCurrentDBSysdate(JN_DATETIME),
				JN_NOTES,
				JN_APPLN,
				JN_SESSION,
				OBJECT_ID,
				DAYTIME,
				END_DATE,
				EXEC_ORDER,
				VAL_EXEC_ORDER,
				PRODUCT_SOURCE_METHOD,
				CONTRACT_ID,
				TRANS_DEF_DIMENSION,
				TAG,
				DIMENSION_OVER_MONTH_IND,
				ROUND_TRANSACTION_IND,
				ROUND_VALUE_IND,
				CURRENT_PERIOD_ONLY_IND,
				PRORATE_LINE,
				XFER_IN_TRANS_ID,
				XFER_IN_LINE,
				DESCRIPTION,
				SRC_PROD_STREAM_ID,
				DISABLED_IND,
				RECORD_STATUS,
				CREATED_BY,
				CREATED_DATE,
				LAST_UPDATED_BY,
				LAST_UPDATED_DATE,
				REV_NO,
				REV_TEXT,
				APPROVAL_BY,
				APPROVAL_DATE,
				APPROVAL_STATE,
				REC_ID,
				POST_PROCESS_IND
 FROM
		trans_inv_line_override_jn
  )
)